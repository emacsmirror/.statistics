:PREAMBLE:
#+TITLE: Epkgs: Issues
#+SETUPFILE: .orgconfig
#+NAME: setup
#+BEGIN_SRC emacs-lisp :results silent
  (require 'emir)
#+END_SRC
[[https://emacsmirror.net/stats][up]]
:END:
* Features provided by multiple packages
#+NAME: conflict
#+BEGIN_SRC emacs-lisp
  (let (alist)
    (dolist (name (epkgs 'name))
      (dolist (feature (epkg-sql [:select feature :from provided
                                  :where (and (= package $s1)
                                              (isnull drop))]
                                 name))
        (setq feature (car feature))
        (-if-let (elt (assq feature alist))
            (push name (cdr elt))
          (cl-pushnew (list feature name) alist))))
    (epkg-with-org-header ("Feature" "Package" "Shelved")
      (mapcar (-lambda ((feature package))
                (list feature package
                      (epkg-shelved-package-p (epkg package))))
              (-mapcat (-lambda ((feature . providers))
                         (and (> (length providers) 1)
                              (list (list feature providers))
                              (--map (list feature it)
                                     (sort providers #'string<))))
                       (cl-sort alist #'string< :key #'car)))))
#+END_SRC
#+RESULTS: conflict
| Feature (2) | Package       | Shelved |
|-------------+---------------+---------|
| htmlize     | htmlize       |         |
| htmlize     | org-mime      |         |
| init-tests  | learn-ocaml   |         |
| init-tests  | proof-general |         |

Reoccuring issues:
- test-helper (see [[https://github.com/rejeep/ert-runner.el/issues/38][ert-runner#38]])

* Packages with unsatisfied dependencies
#+NAME: unsatisfied
#+BEGIN_SRC emacs-lisp
  (epkg-with-org-header ("Package" "Class" "Feature" "Provider")
    (-mapcat
     (-lambda ((name class))
       (let (alist)
	 (-each (epkg-sql [:select feature :from required
                           :where (and (= package $s1)
                                       (isnull drop))]
                          name)
           (-lambda ((feature))
             (-if-let (provider (epkg-provided-by feature))
		 (when (epkg-sql [:select class :from packages
                                  :where (and (= name $s1)
                                              (= class 'shelved))]
				 provider)
                   (push (list feature provider) alist))
               (push (list feature nil) alist))))
	 (mapcar (-lambda ((feature provider))
                   (list name class feature provider))
		 (cl-sort alist #'string< :key #'car))))
     (epkgs [name class] 'epkg-mirrored-package--eieio-childp)))
#+END_SRC
#+RESULTS: unsatisfied
| Package (4) | Class  | Feature        | Provider |
|-------------+--------+----------------+----------|
| bts         | github | pophint-config |          |
| eldev       | github | dummy-lint     |          |
| liberime    | github | liberime-core  |          |
| pophint     | github | e2wm-perspb    |          |
| pophint     | github | yaol           |          |

- bts: https://github.com/aki2o/emacs-pophint/commit/c7234fe367643d8d4d614c91c7a
- eldev: https://github.com/doublep/eldev/commit/dcbfbe65622ed7a0f6ab69f11633899
- pophint: https://github.com/aki2o/emacs-pophint/commit/c477527fc80e2c36e86037b

* Packages maintained in Mercurial repositories on Bitbucket
#+NAME: bitbucket
#+BEGIN_SRC emacs-lisp
  (epkg-with-org-header ("Package" "Bitbucket User" "Repository" "Emacsmirror")
    (cl-sort
     (epkgs [name upstream-user repopage mirrorpage] 'epkg-bitbucket-package--eieio-childp)
     #'string< :key #'cadr))
#+END_SRC
#+RESULTS: bitbucket
| Package (5)   | Bitbucket User | Repository                                    | Emacsmirror                                  |
|---------------+----------------+-----------------------------------------------+----------------------------------------------|
| nose          | durin42        | https://bitbucket.org/durin42/nosemacs        | https://github.com/emacsmirror/nose          |
| pydoc-info    | jonwaltman     | https://bitbucket.org/jonwaltman/pydoc-info   | https://github.com/emacsmirror/pydoc-info    |
| unicode-input | m00nlight      | https://bitbucket.org/m00nlight/unicode-input | https://github.com/emacsmirror/unicode-input |
| smart-dash    | malsyned       | https://bitbucket.org/malsyned/smart-dash     | https://github.com/emacsmirror/smart-dash    |
| mmm-mako      | pjenvey        | https://bitbucket.org/pjenvey/mmm-mako        | https://github.com/emacsmirror/mmm-mako      |

- https://github.com/melpa/melpa/issues/6484

* Packages whose repositories have been archived
#+NAME: archived
#+BEGIN_SRC emacs-lisp
  (epkg-with-org-header ("Package" "Repository" "Melpa")
    (cl-sort
     (-keep (lambda (name)
              (and (member name emir--archived-packages)
                   (list name
                         (epkg-org-link name)
                         (and (melpa-get name) "✓"))))
            (epkgs 'name 'epkg-mirrored-package--eieio-childp))
     #'string< :key #'cadr))
#+END_SRC
#+RESULTS: archived
| Package (37)                 | Repository                           | Melpa |
|------------------------------+--------------------------------------+-------|
| ido-clever-match             | [[https://github.com/Bogdanp/ido-clever-match][Bogdanp/ido-clever-match]]             | ✓     |
| pyfmt                        | [[https://github.com/aheaume/pyfmt.el][aheaume/pyfmt.el]]                     | ✓     |
| tdd-status-mode-line         | [[https://github.com/algernon/tdd-status-mode-line][algernon/tdd-status-mode-line]]        | ✓     |
| importmagic                  | [[https://github.com/anachronic/importmagic.el][anachronic/importmagic.el]]            | ✓     |
| fuzzy                        | [[https://github.com/auto-complete/fuzzy-el][auto-complete/fuzzy-el]]               | ✓     |
| popup                        | [[https://github.com/auto-complete/popup-el][auto-complete/popup-el]]               | ✓     |
| projectile-hanami            | [[https://github.com/avdgaag/projectile-hanami][avdgaag/projectile-hanami]]            | ✓     |
| bdo                          | [[https://github.com/chrisdone/bdo][chrisdone/bdo]]                        | ✓     |
| flycheck-stack               | [[https://github.com/chrisdone/flycheck-stack][chrisdone/flycheck-stack]]             | ✓     |
| ido-describe-bindings        | [[https://github.com/danil/ido-describe-bindings][danil/ido-describe-bindings]]          | ✓     |
| ido-occur                    | [[https://github.com/danil/ido-occur][danil/ido-occur]]                      | ✓     |
| ido-complete-space-or-hyphen | [[https://github.com/doitian/ido-complete-space-or-hyphen][doitian/ido-complete-space-or-hyphen]] | ✓     |
| iy-go-to-char                | [[https://github.com/doitian/iy-go-to-char][doitian/iy-go-to-char]]                | ✓     |
| love-minor-mode              | [[https://github.com/ejmr/love-minor-mode][ejmr/love-minor-mode]]                 | ✓     |
| tup-mode                     | [[https://github.com/ejmr/tup-mode][ejmr/tup-mode]]                        | ✓     |
| php-auto-yasnippets          | [[https://github.com/emacs-php/php-auto-yasnippets][emacs-php/php-auto-yasnippets]]        | ✓     |
| qiita                        | [[https://github.com/gongo/qiita-el][gongo/qiita-el]]                       | ✓     |
| ivy-pages                    | [[https://github.com/igorepst/ivy-pages][igorepst/ivy-pages]]                   | ✓     |
| github-issues                | [[https://github.com/inkel/github-issues.el][inkel/github-issues.el]]               | ✓     |
| rsense                       | [[https://github.com/m2ym/rsense][m2ym/rsense]]                          | ✓     |
| image+                       | [[https://github.com/mhayashi1120/Emacs-imagex][mhayashi1120/Emacs-imagex]]            | ✓     |
| japanlaw                     | [[https://github.com/mhayashi1120/japanlaw.el][mhayashi1120/japanlaw.el]]             | ✓     |
| grep-context                 | [[https://github.com/mkcms/grep-context][mkcms/grep-context]]                   | ✓     |
| ivy-yasnippet                | [[https://github.com/mkcms/ivy-yasnippet][mkcms/ivy-yasnippet]]                  | ✓     |
| ebal                         | [[https://github.com/mrkkrp/ebal][mrkkrp/ebal]]                          | ✓     |
| phpcbf                       | [[https://github.com/nishimaki10/emacs-phpcbf][nishimaki10/emacs-phpcbf]]             | ✓     |
| el-pocket                    | [[https://github.com/pterygota/el-pocket][pterygota/el-pocket]]                  | ✓     |
| flymake-cppcheck             | [[https://github.com/senda-akiha/flymake-cppcheck][senda-akiha/flymake-cppcheck]]         | ✓     |
| flymake-google-cpplint       | [[https://github.com/senda-akiha/flymake-google-cpplint][senda-akiha/flymake-google-cpplint]]   | ✓     |
| flymake-phpcs                | [[https://github.com/senda-akiha/flymake-phpcs][senda-akiha/flymake-phpcs]]            | ✓     |
| auto-scroll-mode             | [[https://github.com/stardiviner/auto-scroll-mode][stardiviner/auto-scroll-mode]]         | ✓     |
| heroku                       | [[https://github.com/technomancy/heroku.el][technomancy/heroku.el]]                | ✓     |
| relax                        | [[https://github.com/technomancy/relax.el][technomancy/relax.el]]                 | ✓     |
| zossima                      | [[https://github.com/technomancy/zossima][technomancy/zossima]]                  | ✓     |
| nodenv                       | [[https://github.com/twlz0ne/nodenv.el][twlz0ne/nodenv.el]]                    | ✓     |
| flycheck-demjsonlint         | [[https://github.com/zenkiezhu/flycheck-demjsonlint][uqix/flycheck-demjsonlint]]            | ✓     |
| automargin                   | [[https://github.com/zk-phi/automargin][zk-phi/automargin]]                    | ✓     |

Don't forget to update ~emir--archived-packages~ occasionally.
