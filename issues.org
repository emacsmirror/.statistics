:PREAMBLE:
#+TITLE: Epkgs: Issues
#+SETUPFILE: .orgconfig
#+NAME: setup
#+BEGIN_SRC emacs-lisp :results silent
  (require 'emir)
#+END_SRC
[[https://emacsmirror.net/stats][up]]
:END:
* Features provided by multiple packages
#+NAME: conflict
#+BEGIN_SRC emacs-lisp
  (let (alist)
    (dolist (name (epkgs 'name))
      (dolist (feature (epkg-sql [:select feature :from provided
                                  :where (and (= package $s1)
                                              (isnull drop))]
                                 name))
        (setq feature (car feature))
        (-if-let (elt (assq feature alist))
            (push name (cdr elt))
          (cl-pushnew (list feature name) alist))))
    (epkg-with-org-header ("Feature" "Package" "Shelved")
      (mapcar (-lambda ((feature package))
                (list feature package
                      (epkg-shelved-package-p (epkg package))))
              (-mapcat (-lambda ((feature . providers))
                         (and (> (length providers) 1)
                              (list (list feature providers))
                              (--map (list feature it)
                                     (sort providers #'string<))))
                       (cl-sort alist #'string< :key #'car)))))
#+END_SRC
#+RESULTS: conflict
| Feature (3)       | Package          | Shelved |
|-------------------+------------------+---------|
| inferior-picolisp | picolisp         |         |
| inferior-picolisp | plisp-mode       |         |
| metaweblog        | metaweblog       |         |
| metaweblog        | org2blog         |         |
| test-helper       | cpp-auto-include |         |
| test-helper       | mocha            |         |

- "picolisp"
  https://github.com/flexibeast/plisp-mode/commit/d6083244
  https://github.com/flexibeast/plisp-mode/commit/3984816a
- metaweblog: https://github.com/org2blog/org2blog/issues/281

Reoccuring issues:
- test-helper (see [[https://github.com/rejeep/ert-runner.el/issues/38][ert-runner#38]])
  - https://github.com/syohex/emacs-cpp-auto-include/issues/6
  - https://github.com/scottaj/mocha.el/issues/62

* Packages with unsatisfied dependencies
#+NAME: unsatisfied
#+BEGIN_SRC emacs-lisp
  (epkg-with-org-header ("Package" "Class" "Feature" "Provider")
    (-mapcat
     (-lambda ((name class))
       (let (alist)
	 (-each (epkg-sql [:select feature :from required
                           :where (and (= package $s1)
                                       (isnull drop))]
                          name)
           (-lambda ((feature))
             (-if-let (provider (epkg-provided-by feature))
		 (when (epkg-sql [:select class :from packages
                                  :where (and (= name $s1)
                                              (= class 'shelved))]
				 provider)
                   (push (list feature provider) alist))
               (push (list feature nil) alist))))
	 (mapcar (-lambda ((feature provider))
                   (list name class feature provider))
		 (cl-sort alist #'string< :key #'car))))
     (epkgs [name class] 'epkg-mirrored-package--eieio-childp)))
#+END_SRC
#+RESULTS: unsatisfied
| Package (8)         | Class  | Feature    | Provider |
|---------------------+--------+------------+----------|
| bibeltex            | github | org-bibtex |          |
| citeproc            | github | org-bibtex |          |
| eval-in-repl        | github | ensime     | ensime   |
| org-link-minor-mode | github | org-man    |          |
| org-linkany         | github | org-bbdb   |          |
| org-mac-protocol    | github | org-bibtex |          |
| org-ref             | github | org-bibtex |          |
| scala-mode          | github | ensime     | ensime   |
| scala-mode          | github | ensime-inf | ensime   |

- https://github.com/ruediger/bibeltex/issues/2
- https://github.com/andras-simonyi/citeproc-el/issues/7
- https://github.com/melpa/melpa/pull/6346#issuecomment-522305236
- https://github.com/seanohalpin/org-link-minor-mode/issues/7
- https://github.com/aki2o/org-linkany/issues/4
- https://github.com/claviclaws/org-mac-protocol/issues/8
- https://github.com/jkitchin/org-ref/issues/649

* Packages maintained in Mercurial repositories on Bitbucket
#+NAME: bitbucket
#+BEGIN_SRC emacs-lisp
  (epkg-with-org-header ("Package" "Bitbucket User" "Repository" "Emacsmirror")
    (cl-sort
     (epkgs [name upstream-user repopage mirrorpage] 'epkg-bitbucket-package--eieio-childp)
     #'string< :key #'cadr))
#+END_SRC
#+RESULTS: bitbucket
| Package (32)         | Bitbucket User | Repository                                               | Emacsmirror                                         |
|----------------------+----------------+----------------------------------------------------------+-----------------------------------------------------|
| kanban               | ArneBab        | https://bitbucket.org/ArneBab/kanban.el                  | https://github.com/emacsmirror/kanban               |
| digit-groups         | adamsmd        | https://bitbucket.org/adamsmd/digit-groups               | https://github.com/emacsmirror/digit-groups         |
| ahg                  | agriggio       | https://bitbucket.org/agriggio/ahg                       | https://github.com/emacsmirror/ahg                  |
| grin                 | dariusp686     | https://bitbucket.org/dariusp686/emacs-grin              | https://github.com/emacsmirror/grin                 |
| nose                 | durin42        | https://bitbucket.org/durin42/nosemacs                   | https://github.com/emacsmirror/nose                 |
| lognav-mode          | ellisvelo      | https://bitbucket.org/ellisvelo/lognav-mode              | https://github.com/emacsmirror/lognav-mode          |
| multi-project        | ellisvelo      | https://bitbucket.org/ellisvelo/multi-project            | https://github.com/emacsmirror/multi-project        |
| achievements         | gvol           | https://bitbucket.org/gvol/emacs-achievements            | https://github.com/emacsmirror/achievements         |
| gap-mode             | gvol           | https://bitbucket.org/gvol/gap-mode                      | https://github.com/emacsmirror/gap-mode             |
| nanowrimo            | gvol           | https://bitbucket.org/gvol/nanowrimo.el                  | https://github.com/emacsmirror/nanowrimo            |
| dyalog-mode          | harsman        | https://bitbucket.org/harsman/dyalog-mode                | https://github.com/emacsmirror/dyalog-mode          |
| lms                  | inigoserna     | https://bitbucket.org/inigoserna/lms.el                  | https://github.com/emacsmirror/lms                  |
| per-buffer-theme     | inigoserna     | https://bitbucket.org/inigoserna/per-buffer-theme.el     | https://github.com/emacsmirror/per-buffer-theme     |
| pmdm                 | inigoserna     | https://bitbucket.org/inigoserna/pmdm.el                 | https://github.com/emacsmirror/pmdm                 |
| pydoc-info           | jonwaltman     | https://bitbucket.org/jonwaltman/pydoc-info              | https://github.com/emacsmirror/pydoc-info           |
| figlet               | jpkotta        | https://bitbucket.org/jpkotta/figlet                     | https://github.com/emacsmirror/figlet               |
| flex-isearch         | jpkotta        | https://bitbucket.org/jpkotta/flex-isearch               | https://github.com/emacsmirror/flex-isearch         |
| highlight-operators  | jpkotta        | https://bitbucket.org/jpkotta/highlight-operators        | https://github.com/emacsmirror/highlight-operators  |
| immortal-scratch     | jpkotta        | https://bitbucket.org/jpkotta/immortal-scratch           | https://github.com/emacsmirror/immortal-scratch     |
| openwith             | jpkotta        | https://bitbucket.org/jpkotta/openwith                   | https://github.com/emacsmirror/openwith             |
| syntax-subword       | jpkotta        | https://bitbucket.org/jpkotta/syntax-subword             | https://github.com/emacsmirror/syntax-subword       |
| unicode-input        | m00nlight      | https://bitbucket.org/m00nlight/unicode-input            | https://github.com/emacsmirror/unicode-input        |
| smart-dash           | malsyned       | https://bitbucket.org/malsyned/smart-dash                | https://github.com/emacsmirror/smart-dash           |
| latex-pretty-symbols | mortiferus     | https://bitbucket.org/mortiferus/latex-pretty-symbols.el | https://github.com/emacsmirror/latex-pretty-symbols |
| ttl-mode             | nxg            | https://bitbucket.org/nxg/ttl-mode                       | https://github.com/emacsmirror/ttl-mode             |
| mmm-mako             | pjenvey        | https://bitbucket.org/pjenvey/mmm-mako                   | https://github.com/emacsmirror/mmm-mako             |
| erc-hipchatify       | seanfarley     | https://bitbucket.org/seanfarley/erc-hipchatify          | https://github.com/emacsmirror/erc-hipchatify       |
| 2048-game            | zck            | https://bitbucket.org/zck/2048.el                        | https://github.com/emacsmirror/2048-game            |
| minesweeper          | zck            | https://bitbucket.org/zck/minesweeper.el                 | https://github.com/emacsmirror/minesweeper          |
| org-parser           | zck            | https://bitbucket.org/zck/org-parser.el                  | https://github.com/emacsmirror/org-parser           |
| zpresent             | zck            | https://bitbucket.org/zck/zpresent.el                    | https://github.com/emacsmirror/zpresent             |
| ditz-mode            | zondo          | https://bitbucket.org/zondo/ditz-mode                    | https://github.com/emacsmirror/ditz-mode            |

- https://github.com/melpa/melpa/issues/6484
