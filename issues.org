:PREAMBLE:
#+TITLE: Epkgs: Issues
#+SETUPFILE: .orgconfig
#+NAME: setup
#+BEGIN_SRC emacs-lisp :results silent
  (require 'emir)
#+END_SRC
[[https://emacsmirror.net/stats][up]]
:END:
* Features provided by multiple packages
#+NAME: conflict
#+BEGIN_SRC emacs-lisp
  (let (alist)
    (dolist (name (epkgs 'name))
      (dolist (feature (epkg-sql [:select feature :from provided
                                  :where (and (= package $s1)
                                              (isnull drop))]
                                 name))
        (setq feature (car feature))
        (-if-let (elt (assq feature alist))
            (push name (cdr elt))
          (cl-pushnew (list feature name) alist))))
    (epkg-with-org-header ("Feature" "Package" "Shelved")
      (mapcar (-lambda ((feature package))
                (list feature package
                      (epkg-shelved-package-p (epkg package))))
              (-mapcat (-lambda ((feature . providers))
                         (and (> (length providers) 1)
                              (list (list feature providers))
                              (--map (list feature it)
                                     (sort providers #'string<))))
                       (cl-sort alist #'string< :key #'car)))))
#+END_SRC
#+RESULTS: conflict
| Feature (2)       | Package    | Shelved |
|-------------------+------------+---------|
| inferior-picolisp | picolisp   |         |
| inferior-picolisp | plisp-mode |         |
| vcard             | bbdb-vcard |         |
| vcard             | vcard      |         |

- inferior-picolisp
  - https://github.com/flexibeast/plisp-mode/commit/d6083244
  - https://github.com/flexibeast/plisp-mode/commit/3984816a
- vcard
  - https://lists.gnu.org/archive/html/emacs-devel/2020-01/msg00980.html

Reoccuring issues:
- test-helper (see [[https://github.com/rejeep/ert-runner.el/issues/38][ert-runner#38]])
  - https://github.com/scottaj/mocha.el/issues/62

* Packages with unsatisfied dependencies
#+NAME: unsatisfied
#+BEGIN_SRC emacs-lisp
  (epkg-with-org-header ("Package" "Class" "Feature" "Provider")
    (-mapcat
     (-lambda ((name class))
       (let (alist)
	 (-each (epkg-sql [:select feature :from required
                           :where (and (= package $s1)
                                       (isnull drop))]
                          name)
           (-lambda ((feature))
             (-if-let (provider (epkg-provided-by feature))
		 (when (epkg-sql [:select class :from packages
                                  :where (and (= name $s1)
                                              (= class 'shelved))]
				 provider)
                   (push (list feature provider) alist))
               (push (list feature nil) alist))))
	 (mapcar (-lambda ((feature provider))
                   (list name class feature provider))
		 (cl-sort alist #'string< :key #'car))))
     (epkgs [name class] 'epkg-mirrored-package--eieio-childp)))
#+END_SRC
#+RESULTS: unsatisfied
| Package (2) | Class  | Feature      | Provider |
|-------------+--------+--------------+----------|
| apdl-mode   | github | apdl-keyword |          |
| eldev       | github | dummy-lint   |          |

- https://github.com/dieter-wilhelm/apdl-mode/commit/50356142f4a6d297ab328f6484e1daf6228d9a89
- https://github.com/doublep/eldev/commit/dcbfbe65622ed7a0f6ab69f11633899d04f7ae78

* Packages maintained in Mercurial repositories on Bitbucket
#+NAME: bitbucket
#+BEGIN_SRC emacs-lisp
  (epkg-with-org-header ("Package" "Bitbucket User" "Repository" "Emacsmirror")
    (cl-sort
     (epkgs [name upstream-user repopage mirrorpage] 'epkg-bitbucket-package--eieio-childp)
     #'string< :key #'cadr))
#+END_SRC
#+RESULTS: bitbucket
| Package (17)        | Bitbucket User | Repository                                        | Emacsmirror                                        |
|---------------------+----------------+---------------------------------------------------+----------------------------------------------------|
| digit-groups        | adamsmd        | https://bitbucket.org/adamsmd/digit-groups        | https://github.com/emacsmirror/digit-groups        |
| nose                | durin42        | https://bitbucket.org/durin42/nosemacs            | https://github.com/emacsmirror/nose                |
| pydoc-info          | jonwaltman     | https://bitbucket.org/jonwaltman/pydoc-info       | https://github.com/emacsmirror/pydoc-info          |
| figlet              | jpkotta        | https://bitbucket.org/jpkotta/figlet              | https://github.com/emacsmirror/figlet              |
| flex-isearch        | jpkotta        | https://bitbucket.org/jpkotta/flex-isearch        | https://github.com/emacsmirror/flex-isearch        |
| highlight-operators | jpkotta        | https://bitbucket.org/jpkotta/highlight-operators | https://github.com/emacsmirror/highlight-operators |
| immortal-scratch    | jpkotta        | https://bitbucket.org/jpkotta/immortal-scratch    | https://github.com/emacsmirror/immortal-scratch    |
| openwith            | jpkotta        | https://bitbucket.org/jpkotta/openwith            | https://github.com/emacsmirror/openwith            |
| syntax-subword      | jpkotta        | https://bitbucket.org/jpkotta/syntax-subword      | https://github.com/emacsmirror/syntax-subword      |
| unicode-input       | m00nlight      | https://bitbucket.org/m00nlight/unicode-input     | https://github.com/emacsmirror/unicode-input       |
| smart-dash          | malsyned       | https://bitbucket.org/malsyned/smart-dash         | https://github.com/emacsmirror/smart-dash          |
| mmm-mako            | pjenvey        | https://bitbucket.org/pjenvey/mmm-mako            | https://github.com/emacsmirror/mmm-mako            |
| 2048-game           | zck            | https://bitbucket.org/zck/2048.el                 | https://github.com/emacsmirror/2048-game           |
| minesweeper         | zck            | https://bitbucket.org/zck/minesweeper.el          | https://github.com/emacsmirror/minesweeper         |
| org-parser          | zck            | https://bitbucket.org/zck/org-parser.el           | https://github.com/emacsmirror/org-parser          |
| zpresent            | zck            | https://bitbucket.org/zck/zpresent.el             | https://github.com/emacsmirror/zpresent            |
| ditz-mode           | zondo          | https://bitbucket.org/zondo/ditz-mode             | https://github.com/emacsmirror/ditz-mode           |

- https://github.com/melpa/melpa/issues/6484
